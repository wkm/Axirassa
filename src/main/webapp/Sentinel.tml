<html xmlns:t="http://tapestry.apache.org/schema/tapestry_5_0_0.xsd">
	<head>
		<title>axirassa | internal systems monitor</title>
		<link rel="stylesheet" type="text/css" href="css/sentinel.css" />
		
		<script type="text/javascript" src="js/lib/canvas2image.js"></script>
		<script type="text/javascript" src="js/lib/canvastext.js"></script>
		<script type="text/javascript" src="js/flotr.debug-0.2.0-alpha.js"></script>
	</head>
	<body>
		<div id="header">
			<span class="logo">axirassa</span> sentinel
		</div>
		
		<t:actionlink t:id="cpuupdate">update cpu</t:actionlink>

		<div class="agent">
			<div class="agentname">cpu</div>
		
			<div class="charts">
				<div id="chart1" class="chart big"></div>
				
				
				<div class="name">Processor Details</div>
				<div class="details">
					<div class="chart"></div>
					<div class="chart"></div>
					<div class="chart"></div>
					<div class="chart"></div>
					
					<div class="chart"></div>
					<div class="chart"></div>
					<div class="chart"></div>
					<div class="chart"></div>
				</div>
			</div>
		</div>
		<div class="agent">
			<div class="agentname">memory</div>
			<div class="chart big"></div>
		</div>
		<div class="agent">
			<div class="agentname">disk space</div>
			<div class="chart big"></div>
		</div>
		<div class="agent">
			<div class="agentname">disk io</div>
			<div class="chart big"></div>
		</div>
		<div class="agent">
			<div class="agentname">network</div>
			<div class="chart big"></div>
		</div>
		<div class="agent">
			<div class="agentname">throughput</div>
			<div class="chart big"></div>
		</div>
		
		<t:zone t:id="counterZone" id="counterZone">
			<p>You clicked the link.</p>
		</t:zone>

		
		<script type="text/javascript">
			document.observe('dom:loaded', function(){
				var dat;
				new Ajax.Request('/axir/sentinel.cpuupdate', {
					method: 'get',
					onSuccess: function(transport){
						dat = transport.responseText.evalJSON();
						
						Flotr.draw(
							$('chart1'),
							[
								{data: dat, color: '#ff9900'}
							],
							{
							 grid: {color: '#666', backgroundColor: '#fff'},
							 lines: {show:true},
							 yaxis: {min: 0, max: 100},
							 shadowSize: 0
							}
						);
					}
				});
			});			
		</script>
		
	</body>
</html>